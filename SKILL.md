---
name: Document Comparison
description: Intelligent comparison of legal/financial documents.
usage: |
  compare-docs <file1> <file2>
  compare-docs <dir1> <dir2>
---

# Document Comparison Skill

This skill helps users compare two documents (e.g., Lawyer's version vs Broker's version) to find substantive differences.

## Features
1.  **Strict Logic Check**: Python script validates numbers, totals, and cross-references.
2.  **Semantic Analysis**: **YOU (The Agent)** will read the text and identify semantic differences that the script might miss.

## Workflow

### Step 1: Run the Mechanical Comparison
Run the python script to generate the base report and extract text.
**IMPORTANT**: The script has been updated to output the *plain text* content of the documents to `.txt` files in the same directory as the report.

```bash
python3 ~/.gemini/antigravity/skills/document-comparison/scripts/compare_docs.py "/absolute/path/to/file1.docx" "/absolute/path/to/file2.docx"
```

### Step 2: Agent Intelligence (Crucial!)
The script is "dumb" but you are "smart".
1.  **Read the generated text files**: Look for files named `Text_Extract_<filename>.txt` generated by the script.
2.  **Analyze**: Compare the text of the two files using your own internal knowledge. Focus on:
    - **Scope**: Are the list of entities (e.g., Related Parties) the same?
    - **Key Personnel**: Check **Controlling Shareholder** and **Actual Controller** names carefully. One doc might list one person, the other might list two (e.g. Father & Son).
    - **Definitions**: Are the definitions consistent?
    - **Hidden Risks**: Are there subtle wording changes that alter rights/obligations?
3.  **Update the Report**:
    - Open the generated `Report_*.md`.
    - At the very top (after the header), insert a new section: `## ðŸ¤– Agent Insight`
    - Write a high-quality summary of the differences you found. **Be bold**. If you see a major issue (like missing funds), highlight it.

### Step 3: Cleanup
Delete the temporary `.txt` text extraction files after analysis to keep the folder clean.

```bash
rm /path/to/Text_Extract_*.txt
```

### Step 4: Notify User
Present the final report to the user.
